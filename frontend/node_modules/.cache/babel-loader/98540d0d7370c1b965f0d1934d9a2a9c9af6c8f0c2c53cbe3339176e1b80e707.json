{"ast":null,"code":"import _objectSpread from\"/Users/apple/chatwithyash/homelx/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useRef}from\"react\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_BASE=\"http://localhost:8000\";// Change if backend runs elsewhere\nfunction App(){const[messages,setMessages]=useState([]);const[input,setInput]=useState(\"\");const[audioUrl,setAudioUrl]=useState(null);const[loading,setLoading]=useState(false);const[userInfo,setUserInfo]=useState(null);const[recording,setRecording]=useState(false);const[micAccessible,setMicAccessible]=useState(true);const mediaRecorderRef=useRef(null);const audioChunksRef=useRef([]);const chatboxRef=useRef(null);// Fetch user info on mount\nReact.useEffect(()=>{fetch(\"\".concat(API_BASE,\"/user_info\")).then(res=>res.json()).then(setUserInfo).catch(()=>{});},[]);// Scroll to bottom on new messages\nReact.useEffect(()=>{if(chatboxRef.current){chatboxRef.current.scrollTop=chatboxRef.current.scrollHeight;}},[messages]);// Check mic access on mount\nReact.useEffect(()=>{const checkMicAccess=async()=>{try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});stream.getTracks().forEach(t=>t.stop());setMicAccessible(true);}catch(_unused){setMicAccessible(false);}};checkMicAccess();},[]);const sendText=async()=>{if(!input.trim())return;setLoading(true);setMessages(msgs=>[...msgs,{role:\"user\",content:input}]);setInput(\"\");try{const res=await fetch(\"\".concat(API_BASE,\"/chat\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_input:input,input_type:\"text\"})});const data=await res.json();setMessages(msgs=>[...msgs,{role:\"assistant\",content:data.answer}]);setAudioUrl(data.audio_url?\"\".concat(API_BASE).concat(data.audio_url):null);}catch(e){console.error(\"Text Error:\",e);alert(\"Error communicating with server.\");}setLoading(false);};const sendVoiceBlob=async blob=>{setLoading(true);// Add a placeholder for the user's voice message\nsetMessages(msgs=>[...msgs,{role:\"user\",content:\"🎙️ Processing voice...\"}]);const formData=new FormData();formData.append(\"file\",blob,\"recording.wav\");try{const res=await fetch(\"\".concat(API_BASE,\"/voice\"),{method:\"POST\",body:formData});const data=await res.json();// Update the last user message with the transcribed text\nsetMessages(msgs=>{const updated=[...msgs];// Find the last user message with the placeholder\nfor(let i=updated.length-1;i>=0;i--){if(updated[i].role===\"user\"&&updated[i].content===\"🎙️ Processing voice...\"){updated[i]=_objectSpread(_objectSpread({},updated[i]),{},{content:data.question?data.question.split('\\n')[0]:\"[Voice message]\"});break;}}// Add the assistant's response\nreturn[...updated,{role:\"assistant\",content:data.answer}];});setAudioUrl(data.audio_url?\"\".concat(API_BASE).concat(data.audio_url):null);}catch(e){console.error(\"Voice Error:\",e);alert(\"Error communicating with server.\");}setLoading(false);};const startRecording=async()=>{if(!navigator.mediaDevices){alert(\"Media devices not supported in this browser.\");return;}try{const stream=await navigator.mediaDevices.getUserMedia({audio:true});const mediaRecorder=new window.MediaRecorder(stream);audioChunksRef.current=[];mediaRecorder.ondataavailable=e=>{if(e.data.size>0){audioChunksRef.current.push(e.data);}};mediaRecorder.onstop=()=>{const audioBlob=new Blob(audioChunksRef.current,{type:'audio/wav'});sendVoiceBlob(audioBlob);stream.getTracks().forEach(track=>track.stop());};mediaRecorderRef.current=mediaRecorder;mediaRecorder.start();setRecording(true);}catch(err){setMicAccessible(false);alert(\"Could not start recording: \"+err.message);}};const stopRecording=()=>{if(mediaRecorderRef.current){mediaRecorderRef.current.stop();setRecording(false);}};const clearChat=async()=>{await fetch(\"\".concat(API_BASE,\"/clear\"),{method:\"POST\"});setMessages([]);setAudioUrl(null);};const deleteAudioFiles=async()=>{await fetch(\"\".concat(API_BASE,\"/delete_audio_files\"),{method:\"POST\"});alert(\"All audio files deleted.\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-root\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar-userinfo dark-sidebar\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Contact Info\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{color:'#7ecfff'},children:\"Email:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"mailto:yswa.var@icloud.com\",children:\"yswa.var@icloud.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{color:'#7ecfff'},children:\"Phone:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"tel:+916396300355\",children:\"+91 6396300355\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{color:'#7ecfff'},children:\"LinkedIn:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://linkedin.com/in/yashaswa-varshney\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"linkedin.com/in/yashaswa-varshney\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{color:'#7ecfff'},children:\"GitHub:\"}),\" \",/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/yswa-var\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"github.com/yswa-var\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"container dark-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Yash's Chatbot\"}),userInfo&&/*#__PURE__*/_jsxs(\"div\",{className:\"userinfo\",children:[/*#__PURE__*/_jsx(\"b\",{children:userInfo.name}),\" | \",userInfo.current_role]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chatbox dark-chatbox\",ref:chatboxRef,children:[messages.map((msg,i)=>/*#__PURE__*/_jsx(\"div\",{className:\"message-row \".concat(msg.role),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-bubble\",children:[/*#__PURE__*/_jsxs(\"b\",{style:{fontWeight:500},children:[msg.role===\"user\"?\"You\":\"Yash\",\":\"]}),/*#__PURE__*/_jsx(\"br\",{}),msg.content.split('\\n').map((line,idx)=>/*#__PURE__*/_jsx(\"div\",{children:line},idx))]})},i)),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"message-row assistant\",children:/*#__PURE__*/_jsx(\"div\",{className:\"message-bubble\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"}),/*#__PURE__*/_jsx(\"span\",{className:\"dot\"})]})})})]}),audioUrl&&/*#__PURE__*/_jsx(\"audio\",{controls:true,src:audioUrl,style:{margin:'16px 0 0 0',background:'#232323',borderRadius:6},children:\"Your browser does not support the audio element.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,disabled:loading,onChange:e=>setInput(e.target.value),onKeyDown:e=>e.key===\"Enter\"&&sendText(),placeholder:\"Type your message...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendText,disabled:loading||!input.trim(),children:\"Send\"}),/*#__PURE__*/_jsx(\"button\",{onClick:recording?stopRecording:startRecording,disabled:loading||!micAccessible,style:{background:recording?'#d9534f':undefined},title:!micAccessible?\"Microphone access denied\":undefined,children:recording?\"Stop\":\"Record\"}),recording&&/*#__PURE__*/_jsx(\"span\",{className:\"recording-indicator\",children:\"\\u25CF Recording...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clearChat,disabled:loading,children:\"Clear\"}),/*#__PURE__*/_jsx(\"button\",{onClick:deleteAudioFiles,disabled:loading,title:\"Delete all audio files\",children:\"\\uD83D\\uDDD1\\uFE0F\\uD83D\\uDD0A\"})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useRef","jsx","_jsx","jsxs","_jsxs","API_BASE","App","messages","setMessages","input","setInput","audioUrl","setAudioUrl","loading","setLoading","userInfo","setUserInfo","recording","setRecording","micAccessible","setMicAccessible","mediaRecorderRef","audioChunksRef","chatboxRef","useEffect","fetch","concat","then","res","json","catch","current","scrollTop","scrollHeight","checkMicAccess","stream","navigator","mediaDevices","getUserMedia","audio","getTracks","forEach","t","stop","_unused","sendText","trim","msgs","role","content","method","headers","body","JSON","stringify","user_input","input_type","data","answer","audio_url","e","console","error","alert","sendVoiceBlob","blob","formData","FormData","append","updated","i","length","_objectSpread","question","split","startRecording","mediaRecorder","window","MediaRecorder","ondataavailable","size","push","onstop","audioBlob","Blob","type","track","start","err","message","stopRecording","clearChat","deleteAudioFiles","className","children","style","color","href","target","rel","name","current_role","ref","map","msg","fontWeight","line","idx","controls","src","margin","background","borderRadius","value","disabled","onChange","onKeyDown","key","placeholder","onClick","undefined","title"],"sources":["/Users/apple/chatwithyash/homelx/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef } from \"react\";\nimport \"./App.css\";\n\nconst API_BASE = \"http://localhost:8000\"; // Change if backend runs elsewhere\n\nfunction App() {\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState(\"\");\n  const [audioUrl, setAudioUrl] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [userInfo, setUserInfo] = useState(null);\n  const [recording, setRecording] = useState(false);\n  const [micAccessible, setMicAccessible] = useState(true);\n  const mediaRecorderRef = useRef(null);\n  const audioChunksRef = useRef([]);\n  const chatboxRef = useRef(null);\n\n  // Fetch user info on mount\n  React.useEffect(() => {\n    fetch(`${API_BASE}/user_info`)\n      .then(res => res.json())\n      .then(setUserInfo)\n      .catch(() => {});\n  }, []);\n\n  // Scroll to bottom on new messages\n  React.useEffect(() => {\n    if (chatboxRef.current) {\n      chatboxRef.current.scrollTop = chatboxRef.current.scrollHeight;\n    }\n  }, [messages]);\n\n  // Check mic access on mount\n  React.useEffect(() => {\n    const checkMicAccess = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n        stream.getTracks().forEach(t => t.stop());\n        setMicAccessible(true);\n      } catch {\n        setMicAccessible(false);\n      }\n    };\n    checkMicAccess();\n  }, []);\n\n  const sendText = async () => {\n    if (!input.trim()) return;\n    setLoading(true);\n    setMessages(msgs => [...msgs, { role: \"user\", content: input }]);\n    setInput(\"\");\n    try {\n      const res = await fetch(`${API_BASE}/chat`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ user_input: input, input_type: \"text\" })\n      });\n      const data = await res.json();\n      setMessages(msgs => [...msgs, { role: \"assistant\", content: data.answer }]);\n      setAudioUrl(data.audio_url ? `${API_BASE}${data.audio_url}` : null);\n    } catch (e) {\n      console.error(\"Text Error:\", e);\n      alert(\"Error communicating with server.\");\n    }\n    setLoading(false);\n  };\n\n  const sendVoiceBlob = async (blob) => {\n    setLoading(true);\n    // Add a placeholder for the user's voice message\n    setMessages(msgs => [...msgs, { role: \"user\", content: \"🎙️ Processing voice...\" }]);\n    const formData = new FormData();\n    formData.append(\"file\", blob, \"recording.wav\");\n    try {\n      const res = await fetch(`${API_BASE}/voice`, {\n        method: \"POST\",\n        body: formData\n      });\n      const data = await res.json();\n      // Update the last user message with the transcribed text\n      setMessages(msgs => {\n        const updated = [...msgs];\n        // Find the last user message with the placeholder\n        for (let i = updated.length - 1; i >= 0; i--) {\n          if (updated[i].role === \"user\" && updated[i].content === \"🎙️ Processing voice...\") {\n            updated[i] = { ...updated[i], content: data.question ? data.question.split('\\n')[0] : \"[Voice message]\" };\n            break;\n          }\n        }\n        // Add the assistant's response\n        return [...updated, { role: \"assistant\", content: data.answer }];\n      });\n      setAudioUrl(data.audio_url ? `${API_BASE}${data.audio_url}` : null);\n    } catch (e) {\n      console.error(\"Voice Error:\", e);\n      alert(\"Error communicating with server.\");\n    }\n    setLoading(false);\n  };\n\n  const startRecording = async () => {\n    if (!navigator.mediaDevices) {\n      alert(\"Media devices not supported in this browser.\");\n      return;\n    }\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      const mediaRecorder = new window.MediaRecorder(stream);\n      audioChunksRef.current = [];\n      mediaRecorder.ondataavailable = (e) => {\n        if (e.data.size > 0) {\n          audioChunksRef.current.push(e.data);\n        }\n      };\n      mediaRecorder.onstop = () => {\n        const audioBlob = new Blob(audioChunksRef.current, { type: 'audio/wav' });\n        sendVoiceBlob(audioBlob);\n        stream.getTracks().forEach(track => track.stop());\n      };\n      mediaRecorderRef.current = mediaRecorder;\n      mediaRecorder.start();\n      setRecording(true);\n    } catch (err) {\n      setMicAccessible(false);\n      alert(\"Could not start recording: \" + err.message);\n    }\n  };\n\n  const stopRecording = () => {\n    if (mediaRecorderRef.current) {\n      mediaRecorderRef.current.stop();\n      setRecording(false);\n    }\n  };\n\n  const clearChat = async () => {\n    await fetch(`${API_BASE}/clear`, { method: \"POST\" });\n    setMessages([]);\n    setAudioUrl(null);\n  };\n\n  const deleteAudioFiles = async () => {\n    await fetch(`${API_BASE}/delete_audio_files`, { method: \"POST\" });\n    alert(\"All audio files deleted.\");\n  };\n\n  return (\n    <div className=\"app-root\">\n      <div className=\"sidebar-userinfo dark-sidebar\">\n        <h3>Contact Info</h3>\n        <div><b style={{ color: '#7ecfff' }}>Email:</b> <a href=\"mailto:yswa.var@icloud.com\">yswa.var@icloud.com</a></div>\n        <div><b style={{ color: '#7ecfff' }}>Phone:</b> <a href=\"tel:+916396300355\">+91 6396300355</a></div>\n        <div><b style={{ color: '#7ecfff' }}>LinkedIn:</b> <a href=\"https://linkedin.com/in/yashaswa-varshney\" target=\"_blank\" rel=\"noopener noreferrer\">linkedin.com/in/yashaswa-varshney</a></div>\n        <div><b style={{ color: '#7ecfff' }}>GitHub:</b> <a href=\"https://github.com/yswa-var\" target=\"_blank\" rel=\"noopener noreferrer\">github.com/yswa-var</a></div>\n      </div>\n      <div className=\"container dark-container\">\n        <h2>Yash's Chatbot</h2>\n        {userInfo && (\n          <div className=\"userinfo\">\n            <b>{userInfo.name}</b> | {userInfo.current_role}\n          </div>\n        )}\n        <div className=\"chatbox dark-chatbox\" ref={chatboxRef}>\n          {messages.map((msg, i) => (\n            <div key={i} className={`message-row ${msg.role}`}> \n              <div className=\"message-bubble\">\n                <b style={{ fontWeight: 500 }}>{msg.role === \"user\" ? \"You\" : \"Yash\"}:</b><br />\n                {msg.content.split('\\n').map((line, idx) => <div key={idx}>{line}</div>)}\n              </div>\n            </div>\n          ))}\n          {loading && (\n            <div className=\"message-row assistant\">\n              <div className=\"message-bubble\">\n                <span className=\"typing-indicator\">\n                  <span className=\"dot\"></span>\n                  <span className=\"dot\"></span>\n                  <span className=\"dot\"></span>\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n        {audioUrl && (\n          <audio controls src={audioUrl} style={{ margin: '16px 0 0 0', background: '#232323', borderRadius: 6 }}>\n            Your browser does not support the audio element.\n          </audio>\n        )}\n        <div className=\"input-row\">\n          <input\n            type=\"text\"\n            value={input}\n            disabled={loading}\n            onChange={e => setInput(e.target.value)}\n            onKeyDown={e => e.key === \"Enter\" && sendText()}\n            placeholder=\"Type your message...\"\n          />\n          <button onClick={sendText} disabled={loading || !input.trim()}>Send</button>\n          <button\n            onClick={recording ? stopRecording : startRecording}\n            disabled={loading || !micAccessible}\n            style={{ background: recording ? '#d9534f' : undefined }}\n            title={!micAccessible ? \"Microphone access denied\" : undefined}\n          >\n            {recording ? \"Stop\" : \"Record\"}\n          </button>\n          {recording && <span className=\"recording-indicator\">● Recording...</span>}\n          <button onClick={clearChat} disabled={loading}>Clear</button>\n          <button onClick={deleteAudioFiles} disabled={loading} title=\"Delete all audio files\">🗑️🔊</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}